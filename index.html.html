<script>
  function calculate() {
    const dims = document.getElementById('dimensions').value.split('*');
    const yuan = parseFloat(document.getElementById('yuan').value);
    const rate = parseFloat(document.getElementById('rate').value);
    const qty = parseInt(document.getElementById('quantity').value);

    if (dims.length !== 3 || isNaN(yuan) || isNaN(rate) || isNaN(qty) || qty <= 0) {
      document.getElementById('output').innerHTML = "âš ï¸ ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ ÙˆØ³Ø¹Ø± Ø§Ù„ÙŠÙˆØ§Ù† ÙˆØ³Ø¹Ø± Ø§Ù„ØµØ±Ù ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­";
      return;
    }

    const [l, w, h] = dims.map(Number);
    const volume = l * w * h / 1000000;

    // âœ… ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù† (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„)
    const shipping = volume * 109 * 1350;
    const shippingPerUnit = shipping / qty;

    // âœ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙŠÙˆØ§Ù† Ø¥Ù„Ù‰ Ø¯ÙˆÙ„Ø§Ø± Ø«Ù… Ø¥Ù„Ù‰ Ø¯ÙŠÙ†Ø§Ø± (1380)
    const usdPrice = yuan / rate;
    const itemCostIQD = usdPrice * 1380;

    // âœ… Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    const totalCost = shippingPerUnit + itemCostIQD + 3000;

    document.getElementById('output').innerHTML = `
      âœ… Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ø±ØªÙˆÙ†: ${volume.toFixed(4)} Ù…Â³<br>
      ðŸšš Ø´Ø­Ù† Ø§Ù„ÙƒØ§Ø±ØªÙˆÙ†: ${shipping.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±<br>
      ðŸ“¦ Ø´Ø­Ù† Ù„Ù„Ù‚Ø·Ø¹Ø©: ${shippingPerUnit.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±<br>
      ðŸ’° Ø³Ø¹Ø± Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¨Ø§Ù„Ø¯ÙŠÙ†Ø§Ø±: ${itemCostIQD.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±<br>
      ðŸ’³ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ù‚Ø·Ø¹Ø©: ${totalCost.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø±
    `;
  }
</script>
